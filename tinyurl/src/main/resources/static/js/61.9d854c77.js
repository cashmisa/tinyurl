(self["webpackChunktinyurl_f"]=self["webpackChunktinyurl_f"]||[]).push([[61],{4061:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>z});var r=l(3673),a=l(2323),o=l(8880);const n=(0,r.HX)("data-v-19fe6bde");(0,r.dD)("data-v-19fe6bde");const s={class:"text-weight-bolder text-grey-9"},u={class:"full-width row wrap justify-center"},i={class:"col-shrink"},c={class:"self-start q-mt-md"},d=(0,r.Uk)("Clear history"),p={class:"text-grey-8 q-gutter-xs"},m=(0,r.Uk)("copy to clipboard"),f=(0,r.Uk)("open in new tab");(0,r.Cn)();const v=n(((e,t,l,v,g,y)=>{const h=(0,r.up)("q-btn-toggle"),U=(0,r.up)("q-input"),b=(0,r.up)("q-btn"),k=(0,r.up)("q-item-label"),w=(0,r.up)("q-item-section"),q=(0,r.up)("q-tooltip"),_=(0,r.up)("q-item"),W=(0,r.up)("q-list"),x=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(x,{padding:"",class:"main-background flex flex-center column"},{default:n((()=>[(0,r.Wm)(h,{modelValue:e.reversal,"onUpdate:modelValue":t[1]||(t[1]=t=>e.reversal=t),"toggle-color":"accent",rounded:"",options:[{label:"shorten",value:!1},{label:"turn back",value:!0}]},null,8,["modelValue"]),(0,r.Wm)("h4",s,(0,a.zw)(e.reversal?"Enter the shortened URL to turn it back":"Enter a long URL to shorten"),1),(0,r.Wm)("div",u,[(0,r.Wm)(U,{ref:"urlRef",rounded:"",clearable:"",class:"col-grow self-center q-mr-md",hint:e.reversal?"starts with http://localhost:8080/qwe123":"e.g. https://example.com/loooooooooong",standout:"bg-grey-5 text-black",type:"url",modelValue:e.url,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.url=t),e.reset],"lazy-rules":"",rules:[e.isValidUrl||"Must be a valid URL"],onKeyup:(0,o.D2)(e.convertUrl,["enter"])},null,8,["hint","modelValue","rules","onKeyup","onUpdate:modelValue"]),(0,r.Wm)("div",i,[(0,r.Wm)(b,{color:e.reversal?"warning":"secondary",size:"lg",rounded:"",label:e.reversal?"Original":"Shorten",onClick:e.convertUrl},null,8,["color","label","onClick"])])]),(0,r.Wm)("div",c,[e.requestedUrls.length>0?((0,r.wg)(),(0,r.j4)(b,{key:0,flat:"",size:"sm",onClick:e.clearHistory},{default:n((()=>[d])),_:1},8,["onClick"])):(0,r.kq)("",!0)]),e.requestedUrls.length>0?((0,r.wg)(),(0,r.j4)(W,{key:0,separator:"",class:"bg-grey-5 full-width"},{default:n((()=>[((0,r.wg)(!0),(0,r.j4)(r.HY,null,(0,r.Ko)(e.requestedUrls,(t=>((0,r.wg)(),(0,r.j4)(_,{key:t.convertedUrl,class:"row justify-between"},{default:n((()=>[(0,r.Wm)(w,{style:{"max-width":"500px"}},{default:n((()=>[(0,r.Wm)(k,{lines:"5"},{default:n((()=>[(0,r.Uk)((0,a.zw)(t.convertedUrl),1)])),_:2},1024),(0,r.Wm)(k,{caption:"",lines:"1"},{default:n((()=>[(0,r.Uk)((0,a.zw)(t.originalUrl),1)])),_:2},1024)])),_:2},1024),(0,r.Wm)(w,{top:"",side:""},{default:n((()=>[(0,r.Wm)("div",p,[(0,r.Wm)(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"content_copy",color:"primary",onClick:l=>e.copy(t.convertedUrl)},{default:n((()=>[(0,r.Wm)(q,null,{default:n((()=>[m])),_:1})])),_:2},1032,["onClick"]),(0,r.Wm)(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"open_in_new",color:"primary",onClick:l=>e.openURL(t.convertedUrl)},{default:n((()=>[(0,r.Wm)(q,null,{default:n((()=>[f])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,r.kq)("",!0)])),_:1})}));l(71),l(7965);var g=l(1959),y=l(8825),h=l(52),U=l(1914),b=l(3437);const k=(0,r.aZ)({name:"PageIndex",setup(){const e=(0,y.Z)(),t=(0,g.iH)(!1),l=(0,g.iH)(null),r=(0,g.iH)(null),a=(0,g.iH)([]);async function o(){if(l.value)if(r.value.validate(),r.value.hasError)e.notify({type:"negative",message:"Please check your URL before submit"});else{let e;try{e=t.value?await(0,h.post)("/turnback",{url:l.value}):await(0,h.post)("/shorten",{url:l.value}),await n(e.data),a.value.unshift({originalUrl:l.value,convertedUrl:e.data}),l.value=null}catch(o){}}else e.notify({type:"negative",message:"Oops, there is no URL to convert"})}async function n(t){try{await(0,U.Z)(t),e.notify({type:"positive",message:"copied to clipboard",timeout:500})}catch(l){}}function s(e){if(!e)return!0;let t;try{t=new URL(e)}catch(l){return!1}return"http:"===t.protocol||"https:"===t.protocol}function u(){a.value.length=0}return{reversal:t,url:l,urlRef:r,isValidUrl:s,reset(){r.value.resetValidation()},copy:n,requestedUrls:a,convertUrl:o,clearHistory:u,openURL:b.Z}}});var w=l(4379),q=l(8761),_=l(1206),W=l(522),x=l(7011),Z=l(3414),C=l(2035),L=l(2350),R=l(9143),V=l(7518),Q=l.n(V);k.render=v,k.__scopeId="data-v-19fe6bde";const z=k;Q()(k,"components",{QPage:w.Z,QBtnToggle:q.Z,QInput:_.Z,QBtn:W.Z,QList:x.Z,QItem:Z.Z,QItemSection:C.Z,QItemLabel:L.Z,QTooltip:R.Z})}}]);