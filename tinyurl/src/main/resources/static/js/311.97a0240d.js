(self["webpackChunktinyurl_f"]=self["webpackChunktinyurl_f"]||[]).push([[311],{2311:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>Q});var a=t(3673),o=t(2323),r=t(8880);const n=(0,a.HX)("data-v-7d088e5d");(0,a.dD)("data-v-7d088e5d");const s={class:"full-width row wrap justify-center"},u={class:"col-shrink"},i={class:"self-start q-mt-md"},c=(0,a.Uk)("Clear history"),d={class:"text-grey-8 q-gutter-xs"},p=(0,a.Uk)("copy to clipboard"),m=(0,a.Uk)("open in new tab");(0,a.Cn)();const v=n(((e,l,t,v,f,g)=>{const y=(0,a.up)("q-btn-toggle"),h=(0,a.up)("q-input"),U=(0,a.up)("q-btn"),k=(0,a.up)("q-item-label"),w=(0,a.up)("q-item-section"),b=(0,a.up)("q-tooltip"),q=(0,a.up)("q-item"),_=(0,a.up)("q-list"),W=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(W,{padding:"",class:"main-background flex flex-center column"},{default:n((()=>[(0,a.Wm)(y,{modelValue:e.reversal,"onUpdate:modelValue":l[1]||(l[1]=l=>e.reversal=l),"toggle-color":"accent",rounded:"",options:[{label:"shorten",value:!1},{label:"turn back",value:!0}]},null,8,["modelValue"]),(0,a.Wm)("h4",null,(0,o.zw)(e.reversal?"Enter the shortened URL to turn it back":"Enter a long URL to shorten"),1),(0,a.Wm)("div",s,[(0,a.Wm)(h,{ref:"urlRef",rounded:"",clearable:"",class:"col-grow self-center q-mr-md",hint:e.reversal?"starts with http://localhost:8080/qwe123":"e.g. https://example.com/loooooooooong",standout:"bg-grey-5 text-black",type:"url",modelValue:e.url,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.url=l),e.reset],"lazy-rules":"",rules:[e.isValidUrl||"Must be a valid URL"],onKeyup:(0,r.D2)(e.convertUrl,["enter"])},null,8,["hint","modelValue","rules","onKeyup","onUpdate:modelValue"]),(0,a.Wm)("div",u,[(0,a.Wm)(U,{color:e.reversal?"warning":"secondary",size:"lg",rounded:"",label:e.reversal?"Original":"Shorten",onClick:e.convertUrl},null,8,["color","label","onClick"])])]),(0,a.Wm)("div",i,[e.requestedUrls.length>0?((0,a.wg)(),(0,a.j4)(U,{key:0,flat:"",size:"sm",onClick:e.clearHistory},{default:n((()=>[c])),_:1},8,["onClick"])):(0,a.kq)("",!0)]),e.requestedUrls.length>0?((0,a.wg)(),(0,a.j4)(_,{key:0,separator:"",class:"bg-grey-5 full-width"},{default:n((()=>[((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.requestedUrls,(l=>((0,a.wg)(),(0,a.j4)(q,{key:l.convertedUrl,class:"row justify-between"},{default:n((()=>[(0,a.Wm)(w,{style:{"max-width":"500px"}},{default:n((()=>[(0,a.Wm)(k,{lines:"5"},{default:n((()=>[(0,a.Uk)((0,o.zw)(l.convertedUrl),1)])),_:2},1024),(0,a.Wm)(k,{caption:"",lines:"1"},{default:n((()=>[(0,a.Uk)((0,o.zw)(l.originalUrl),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(w,{top:"",side:""},{default:n((()=>[(0,a.Wm)("div",d,[(0,a.Wm)(U,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"content_copy",color:"primary",onClick:t=>e.copy(l.convertedUrl)},{default:n((()=>[(0,a.Wm)(b,null,{default:n((()=>[p])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(U,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"open_in_new",color:"primary",onClick:t=>e.openURL(l.convertedUrl)},{default:n((()=>[(0,a.Wm)(b,null,{default:n((()=>[m])),_:1})])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.kq)("",!0)])),_:1})}));t(71),t(7965);var f=t(1959),g=t(8825),y=t(52),h=t(1914),U=t(3437);const k=(0,a.aZ)({name:"PageIndex",setup(){const e=(0,g.Z)(),l=(0,f.iH)(!1),t=(0,f.iH)(null),a=(0,f.iH)(null),o=(0,f.iH)([]);async function r(){if(t.value)if(a.value.validate(),a.value.hasError)e.notify({type:"negative",message:"Please check your URL before submit"});else{let e;e=l.value?await(0,y.post)("/turnback",{url:t.value}):await(0,y.post)("/shorten",{url:t.value}),await n(e.data),o.value.unshift({originalUrl:t.value,convertedUrl:e.data}),t.value=null}else e.notify({type:"negative",message:"Oops, there is no URL to convert"})}async function n(l){try{await(0,h.Z)(l),e.notify({type:"positive",message:"copied to clipboard",timeout:500})}catch(t){}}function s(e){if(!e)return!0;let l;try{l=new URL(e)}catch(t){return!1}return"http:"===l.protocol||"https:"===l.protocol}function u(){o.value.length=0}return{reversal:l,url:t,urlRef:a,isValidUrl:s,reset(){a.value.resetValidation()},copy:n,requestedUrls:o,convertUrl:r,clearHistory:u,openURL:U.Z}}});var w=t(4379),b=t(8761),q=t(1206),_=t(522),W=t(7011),x=t(3414),Z=t(2035),C=t(2350),L=t(9143),R=t(7518),V=t.n(R);k.render=v,k.__scopeId="data-v-7d088e5d";const Q=k;V()(k,"components",{QPage:w.Z,QBtnToggle:b.Z,QInput:q.Z,QBtn:_.Z,QList:W.Z,QItem:x.Z,QItemSection:Z.Z,QItemLabel:C.Z,QTooltip:L.Z})}}]);